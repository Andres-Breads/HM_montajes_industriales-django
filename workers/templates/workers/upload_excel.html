{% extends 'main.html' %}

{% block title %}Subir Fichajes{% endblock %}

{% block content %}
<h2>Subir archivo de Excel</h2>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="excel_file" class="block text-sm font-medium text-gray-700 dark:text-white">Subir Fichajes</label>
    <div class="mt-1 relative rounded-md shadow-sm">
        <input type="file" name="excel_file" id="excel_file" accept=".xls,.xlsx" required class="sr-only">
        <div class="flex items-center">
            <label for="excel_file" class="cursor-pointer bg-gray-50 dark:bg-gray-700 py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 dark:text-gray-100 hover:text-gray-300 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:bg-gray-50 active:text-gray-800 dark:border-gray-400 dark:placeholder-gray-400">
                Buscar
            </label>
            <span class="py-1 px-4" id="fileName">Sin archivos seleccionados</span>
        </div>
    </div>
    <button type="submit" class="mt-1 px-4 py-2 text-sm font-semibold bg-blue-500 hover:bg-blue-300 text-white hover:text-gray-900 rounded-md">Importar</button>
</form>
<script>
    const fileInput = document.getElementById('excel_file');
    const fileName = document.getElementById('fileName');
  
    fileInput.addEventListener('change', () => {
        fileName.textContent = fileInput.files[0] ? fileInput.files[0].name : 'Sin archivos seleccionados';
    });
</script>
{% endblock %}